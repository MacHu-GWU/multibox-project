Data Modeling
==============================================================================


Semi Mutable Model
------------------------------------------------------------------------------
在这个项目中, 我们经常需要一种特殊的数据建模方式来对各种多开游戏中的对象例如, 账号, 角色, 窗口
等进行建模. 这种建模方式需要满足以下几个特点:

1. **对象必须有一些核心属性是 immutable 的**. 例如一个游戏账号的 username 是永远不会变的.
2. **对象可以有一些非核心属性是 mutable 的**. 例如一个游戏账号的 password是可以修改的.
3. **对象是可变的**. 基于以上两点, Python 中的对象应该是可变的, 但是核心属性不可变.
4. **对象是可 hash 的**. 因为我们经常会涉及到去重, 做集合的交并补操作. 所以对象必须要是可以 Hash 的. 这个 Hash 值的计算只能基于核心属性.
5. **对象是可进行比较的**. 因为我们会要对对象进行排序, 所以对象必须要可以进行比较操作. 这个比较计算只能基于核心属性.

.. dropdown:: example.py

    .. literalinclude:: ./example.py
       :language: python
       :linenos:
